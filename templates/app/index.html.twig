{% extends 'base.html.twig' %}

{% block body %}
    <div>
        {{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}
        {{ form_row(form.term) }}
        <button type="submit" class="btn btn-primary"> Rechercher</button>
        {{ form_end(form) }}
        <a href="{{ path('app_add') }}" class="btn btn-primary">Ajouter</a>
    </div>
    <table class="table">
        <thead>
        <tr>
            <th>
                {{ knp_pagination_sortable(films, 'Titre', 'f.title') }}
            </th>
            <th>
                {{ knp_pagination_sortable(films, 'Date de sortie', 'f.releaseDate') }}

            </th>
            <th>

            </th>
        </tr>
        </thead>
        <tbody>
        {% for film in films %}
            <tr>
                <td>
                    {{ film.title }}
                </td>
                <td>
                    {{ film.releaseDate|date('d/m/Y') }}
                </td>
                <td>
                    <a href="{{ path('app_edit', {'id': film.id}) }}" class="btn btn-primary">
                        Modifier
                    </a>
                    <a href="{{ path('app_show', {'id': film.id}) }}" class="btn btn-primary">
                        Voir
                    </a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <div>
        {{ knp_pagination_render(films) }}
    </div>
{% endblock %}